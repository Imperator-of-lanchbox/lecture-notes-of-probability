% This is a template for lecture notes.
\documentclass{article}
\usepackage[UTF8]{ctex}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{geometry}
\usepackage{booktabs}
\usepackage{bm}
\usepackage{tcolorbox}
\CTEXoptions[today=old]
%Some commonly used notations
%\geometry{a4paper,bottom = 3cm,left = 3cm, right = 3cm}

%for reference
\usepackage{hyperref}
\usepackage[capitalise]{cleveref}
\crefname{enumi}{}{}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{question}[theorem]{Question}
\newtheorem{answer}[theorem]{Answer}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{example}[theorem]{Example}
%\newenvironment{proof}{\noindent \textbf{Proof:}}{$\Box$}
\newtheorem{observation}[theorem]{Observation}

%to use newcommand for convenience
\newcommand\field{\mathbb{F}}
\newcommand\Real{\mathbb{R}}
\newcommand\Q{\mathbb{Q}}
\newcommand\Z{\mathbb{Z}}
\newcommand\complex{\mathbb{C}}

%this is how we define operators.
\DeclareMathOperator{\rank}{rank} % rank

\title{Principle of inclusion-exclusion}
\author{Tong CHEN}
\date{\today}

\begin{document}
    \maketitle
\begin{theorem}
(Principle of inclusion-exclusion) Let $A_1, \dots, A_k$ be k finite sets. We have $$|\cup_{i=1}^k A_i |=\sum_i|A_i|-\sum_{i<j}|A_i \cap A_j|+\cdots+(-1)^{k-1}|A_1 \cap \cdots \cap A_k|$$
\end{theorem}

\begin{proof}
We use induction.

While n=2, we have $|A\cup B|=|A|+|B|-|A\cap B|$. Obviously.

Suppose while $n=s(s\ge 2,s\in \mathbb{N})$, the theorem is right.

Then while $n=s+1$,

$|\cup_{i=1}^n A_i|=|\cup_{i=1}^{s+1}A_i|=|(\cup_{i=1}^s A_i)\cup A_{s+1}|$

$=|\cup_{i=1}^s A_i|+|A_{s+1}|-|(\cup_{i=1}^s A_i) \cap A_{s+1}|$

$=|\cup_{i=1}^s A_i|+|A_{s+1}|-|\cup_{i=1}^s (A_i \cap A_{s+1})|$

$=\sum_{1\le i \le s+1} |A_i| + \sum_{k=2}^s (-1)^{k-1} \sum_{1\le i_1 <i_2<\cdots<i_k\le s} |A_{i_1}\cap A_{i_2} \cap \cdots \cap A_{i_k}| + \sum_{k=1}^{s-1} (-1)^k \sum_{1\le i_1 < i_2 < \cdots < i_k \le s} |A_{i_1} \cap A_{i_2} \cap \cdots \cap A_{i_k} \cap A_{s+1}|+(-1)^s|A_1\cap A_2\cap \cdots \cap A_s \cap A_{s+1}|$

$=\sum_{1\le i \le s+1} |A_i| + \sum_{k=2}^s (-1)^{k-1} \sum_{1\le i_1 <i_2<\cdots<i_k\le s + 1} |A_{i_1}\cap A_{i_2} \cap \cdots \cap A_{i_k}| +(-1)^s|A_1\cap A_2\cap \cdots \cap A_s \cap A_{s+1}|$

$=\sum_{k=1}^{n}(-1)^{k-1}\sum_{1\le i_1 < i_2 < \cdots < i_k \le s + 1} |A_{i_1}\cap A_{i_2} \cap \cdots \cap A_{i_k}|$
\end{proof}
\end{document}